ROOT_DOMAIN=inventiv-agents.fr
ACME_EMAIL=you@example.com

# Local dev domains (optional). If you don't have DNS locally, you can still run without the edge profile.
FRONTEND_DOMAIN=studio-dev.inventiv-agents.fr
API_DOMAIN=api-dev.inventiv-agents.fr

# Remote VM access (optional)
REMOTE_HOST=127.0.0.1
REMOTE_PORT=22
# SSH_IDENTITY_FILE=~/.ssh/id_rsa

# Container promotion
IMAGE_REPO=ghcr.io/inventiv-it-for-ai/inventiv-agents
IMAGE_TAG=dev

# Runtime
RUST_LOG=debug
PROVIDER=mock

# Worker auth (internal endpoints on orchestrator)
WORKER_AUTH_TOKEN=dev-worker-token
WORKER_HEALTH_PORT=8080

# DEV->Scaleway worker auto-install (standard provisioning path)
# When enabled, orchestrator injects cloud-init and/or triggers an SSH bootstrap (fallback)
# for supported instance types to start vLLM + agent automatically.
# For local-to-cloud tests, set WORKER_CONTROL_PLANE_URL to a tunnel URL that points to your local API (:8003).
# WORKER_AUTO_INSTALL=1
# WORKER_CONTROL_PLANE_URL=https://<your-tunnel>.trycloudflare.com
# WORKER_CONTROL_PLANE_URL_FILE=./env/worker_control_plane_url.txt
# WORKER_AUTO_INSTALL_INSTANCE_PATTERNS=L4-*,L40S-*,RENDER-S
# WORKER_MODEL_ID=Qwen/Qwen2.5-0.5B-Instruct
# WORKER_VLLM_IMAGE=vllm/vllm-openai:latest
# WORKER_VLLM_MODE=mono   # mono|multi (multi = 1 vLLM per GPU behind local HAProxy on :8000)
# WORKER_AGENT_SOURCE_URL=https://raw.githubusercontent.com/Inventiv-IT-for-AI/inventiv-agents/main/inventiv-worker/agent.py
# WORKER_EXPOSE_PORTS=1  # opens inbound 8000/8080 on Scaleway SG (dev convenience)
# WORKER_HF_TOKEN=hf_...  # only needed for private HuggingFace models (forwarded to vLLM)
WORKER_HF_TOKEN_FILE=/run/secrets/worker_hf_token

#
# Storage sizing override (Scaleway data volume):
# WORKER_DATA_VOLUME_GB=300
# WORKER_DATA_VOLUME_GB_DEFAULT=200
#
# SSH bootstrap timeout for worker auto-install (seconds). Model pulls can take a while:
# WORKER_SSH_BOOTSTRAP_TIMEOUT_S=900

# DB (dev)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=llminfra

# Secrets mount (dev)
SECRETS_DIR=./deploy/secrets

# Default admin bootstrap (inventiv-api)
BOOTSTRAP_DEFAULT_ADMIN=1
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@inventiv.local
# Same mechanism as staging/prod: password read from a secret file mounted in the container.
DEFAULT_ADMIN_PASSWORD_FILE=/run/secrets/default_admin_password

# Optional: seed provider credentials into DB (provider_settings) from /run/secrets at boot (inventiv-api).
# Keeps secrets out of env files while centralizing runtime creds in DB.
# AUTO_SEED_PROVIDER_CREDENTIALS=1
# SCALEWAY_PROJECT_ID=__SET_ME__
# Secret files expected under SECRETS_DIR (mounted to /run/secrets):
# - scaleway_secret_key
# - provider_settings_key (passphrase for pgcrypto encryption at rest)

# ------------------------------------------------------------
# Local multi-worktree: port offset (UI only by default)
# ------------------------------------------------------------
# When running multiple worktrees side-by-side, use a different offset per worktree.
# Example:
#   Worktree A: PORT_OFFSET=0      -> UI on http://localhost:3000
#   Worktree B: PORT_OFFSET=10000  -> UI on http://localhost:13000
PORT_OFFSET=0
