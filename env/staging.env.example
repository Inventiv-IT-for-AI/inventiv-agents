ROOT_DOMAIN=inventiv-agents.fr
ACME_EMAIL=you@example.com

# For automated reprovision cycles, use Let's Encrypt *staging* to avoid rate limits.
# (You will get an untrusted cert, but HTTPS will work for smoke tests with curl -k.)
# LEGO_SERVER=https://acme-staging-v02.api.letsencrypt.org/directory

FRONTEND_DOMAIN=studio-stg.inventiv-agents.fr
API_DOMAIN=api-stg.inventiv-agents.fr

# Remote VM access (bootstrap/deploy)
REMOTE_HOST=51.159.133.239
REMOTE_PORT=22
# If you know the user, set it (recommended). Otherwise auto-detection will try common ones.
# REMOTE_USER=ubuntu
# SSH key material (for fully automated, replayable environments)
# - Prefer SSH_IDENTITY_FILE (path to private key file) for local usage.
# - In CI, prefer SSH_PRIVATE_KEY (multi-line) injected as a secret env var.
# SSH_IDENTITY_FILE=./.ssh/llm-studio-key
# SSH_PRIVATE_KEY=-----BEGIN OPENSSH PRIVATE KEY-----\n...\n-----END OPENSSH PRIVATE KEY-----
# SSH_PUBLIC_KEY="ssh-ed25519 AAAA... comment"

# Container promotion
IMAGE_REPO=ghcr.io/inventiv-it-for-ai/inventiv-agents
IMAGE_TAG=staging

# Registry auth (required if GHCR packages are private)
REGISTRY_USERNAME=inventiv-it-for-ai
# On the VM, create: ${SECRETS_DIR}/ghcr_token (GitHub PAT with read:packages)

# Runtime
RUST_LOG=info
PROVIDER=scaleway
SCALEWAY_PROJECT_ID=__SET_ME__

# Seed provider credentials into DB (provider_settings) from /run/secrets at boot (inventiv-api).
# This keeps secrets out of git/env files and centralizes runtime creds in DB.
AUTO_SEED_PROVIDER_CREDENTIALS=1
# Secret files expected on the VM under SECRETS_DIR (mounted to /run/secrets):
# - scaleway_secret_key
# - provider_settings_key (passphrase for pgcrypto encryption at rest)

# LLM & AI Models Management
WORKER_HF_TOKEN_FILE=/run/secrets/worker_hf_token

# Worker auth (internal endpoints on orchestrator)
WORKER_AUTH_TOKEN=__SET_ME__
WORKER_HEALTH_PORT=8080

# DB
POSTGRES_USER=postgres
POSTGRES_PASSWORD=__SET_ME__
POSTGRES_DB=llminfra

# Secrets on VM (mounted read-only into /run/secrets)
SECRETS_DIR=/opt/inventiv/secrets-staging

# Default admin bootstrap (inventiv-api)
BOOTSTRAP_DEFAULT_ADMIN=1
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@inventiv.local
DEFAULT_ADMIN_PASSWORD_FILE=/run/secrets/default_admin_password

# Default organization bootstrap (inventiv-api)
# Creates "Inventiv IT" organization with admin as owner (idempotent)
BOOTSTRAP_DEFAULT_ORGANIZATION=1
DEFAULT_ORGANIZATION_NAME="Inventiv IT"
DEFAULT_ORGANIZATION_SLUG="inventiv-it"
